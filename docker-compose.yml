

    services:
      # Frontend
      frontend:
        build:
          context: ./frontend
          dockerfile: Dockerfile
        networks:
          - app-network
        volumes:
          - ./frontend/dist:/usr/share/nginx/html
          - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro


      # Backend
      backend:
        build:
          context: ./backend
          dockerfile: Dockerfile
        ports:
          - "5000:5000"
        container_name: backend
        volumes:
          - ./backend:/app
          - /app/node_modules
        networks:
          - app-network

      # Nginx
      nginx:
        image: nginx:latest
        ports:
          - "80:80"
        depends_on:
          - frontend
          - backend
        volumes:
          - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
          - ./frontend/dist:/usr/share/nginx/html
        networks:
          - app-network



